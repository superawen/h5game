window.__require=function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l=s.split("/");if(l=l[l.length-1],!e[l]){var h="function"==typeof __require&&__require;if(!a&&h)return h(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var r=i[s]={exports:{}};e[s][0].call(r.exports,function(t){return o(e[s][1][t]||t)},r,r.exports,t,e,i,n)}return i[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({AnimFunc:[function(t,e){"use strict";cc._RF.push(e,"069bcLwjtNB/LYJrOEJbxa+","AnimFunc"),cc.Class({extends:cc.Component,properties:{},shake:function(){var t=cc.rotateTo(.1,15),e=cc.rotateTo(.1,0),i=cc.rotateTo(.1,-15),n=cc.rotateTo(.12,0),o=cc.repeat(cc.sequence(t,e,i,n),3);this.node.stopAllActions(),this.node.runAction(o)}}),cc._RF.pop()},{}],Enemy:[function(t,e){"use strict";cc._RF.push(e,"cfe104AL1BA4ZYID8PM1eVV","Enemy"),t("./HexCell"),cc.Class({extends:cc.Component,properties:{emeny:{default:null,type:cc.Node},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y)}}}}),cc._RF.pop()},{"./HexCell":"HexCell"}],GameApplication:[function(t,e){"use strict";cc._RF.push(e,"f08152UaoRPB64U7d0m5V+q","GameApplication");var i=t("../GameLogic/SoundManager");cc.Class({extends:cc.Component,properties:{soundManager:{default:null,type:i},missions:{default:[]},missionsCB:{default:[]},conf:{default:{}},confCB:{default:[]},createShortcuted:{default:0,type:cc.Integer},effectView:{default:null,type:cc.Node},StepView:{default:null,type:cc.Node,visible:!1},StepView_prefab:{default:null,type:cc.Prefab},HeartView:{default:null,type:cc.Node,visible:!1},HeartView_prefab:{default:null,type:cc.Prefab},CoinView:{default:null,type:cc.Node,visible:!1},CoinView_prefab:{default:null,type:cc.Prefab},SharaView:{default:null,type:cc.Node,visible:!1},SharaView_prefab:{default:null,type:cc.Prefab},fbView_prefab:{default:null,type:cc.Prefab},_playTimes:{default:0,type:cc.Integer},playTimes:{get:function(){return this._playTimes},set:function(t){this._playTimes=t,SDK().plusPlayTimes()}},uiAtlas:{default:null,type:cc.SpriteAtlas},rewardList:{default:[],type:[cc.Node],visible:!1}},lerpACtion:function(t,e,i,n){null==this.agent&&(this.agent=new cc.Node("agent")),this.agent.stopAllActions();var o=this.agent;null!=t&&(o.x=t);var c=i/.02,s=e/c;o.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){n(o)}.bind(this),this),cc.moveBy(.02,cc.v2(s,0))),c+1))},getConf:function(t,e){null!=this.conf[t]?e&&e(this.conf[t]):cc.resources.load(t,function(i,n){this.conf[t]=n,null!=e&&e(n)}.bind(this))},onLoad:function(){cc.debug.setDisplayStats(!1),cc.sys.localStorage.clear(),window.gameApplication=this;var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!1,t.enabledDrawBoundingBox=!1,cc.resources.load("conf/missions",function(t,e){this.missions=e,this.invokeMissionCB()}.bind(this)),this.openMainView(),this.curShowIdx=0},onDestroy:function(){cc.director.getCollisionManager().enabled=!1},getMissions:function(t){null!=this.missions&&this.missions.length>0?t(this.missions):this.missionsCB.push(t)},invokeMissionCB:function(){var t=this;this.missionsCB.length>0&&this.missionsCB.forEach(function(e){null!=e&&e(t.missions)})},setNodeActive:function(t,e,i){var n=cc.find("Canvas/"+t);if(null!=n)if(e){if(n.active=e,"MainView"==n.name||"GameView"==n.name){null!=(c=cc.find("top",n))&&(c.active=!0);var o=cc.find("GoGame",n);null!=o&&(o.active=!1),n.runAction(cc.moveTo(.5,cc.v2(0,0)))}i?((s=cc.find("Bg",n)).scale=0,s.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)))):(n.opacity=0,n.runAction(cc.fadeIn(.5)))}else{var c,s;"MainView"==n.name?(null!=(c=cc.find("top",n))&&(c.active=!1),n.runAction(cc.sequence(cc.moveTo(.5,cc.v2(0,-cc.winSize.height)),cc.callFunc(function(){n.active=!0}.bind(this),this)))):"GameView"==n.name&&n.runAction(cc.sequence(cc.moveTo(.5,cc.v2(0,cc.winSize.height)),cc.callFunc(function(){n.active=e}.bind(this),this))),i?(s=cc.find("Bg",n)).runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){n.active=!1}.bind(this),this))):n.runAction(cc.fadeOut(.5))}},openMainView:function(t){null!=window.mainScirpt&&(window.mainScirpt.refreashVal(),t&&this.scheduleOnce(function(){window.gameApplication.flyReward(1,"starBig",window.mainScirpt.starts,null)}.bind(this),1)),this.setNodeActive("MainView",!0),this.setNodeActive("GameView",!1)},openGameView:function(){this.setNodeActive("GameView",!0),this.setNodeActive("MainView",!1)},openPopView:function(t,e){this.setNodeActive(t,e,!0)},openGiftView:function(t){this.openPopView("GiftView",t)},showVideoView:function(t,e){if(null==this.VideoView){var i=cc.instantiate(this.VideoView_prefab),n=cc.find("Canvas");i.parent=n,i.width=window.width,i.height=window.height,this.VideoView=i}this.VideoView.active=!0,this.VideoView.setSiblingIndex(this.VideoView.parent.childrenCount);var o=this.VideoView.getChildByName("Bg");o.scale=0,o.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)));var c=this.VideoView.getChildByName("Bg").getChildByName("Light");c.stopAllActions(),c.runAction(cc.repeatForever(cc.rotateBy(1.1,100)));var s=this.VideoView.getChildByName("Bg").getChildByName("Sure"),a=s.getChildByName("Text").getComponent(cc.Label);s.off(cc.Node.EventType.TOUCH_END);var l=0;this.checkDailyCount("video",!1,function(i){l=5-i,s.getComponent(cc.Button).interactable=l>0,e?a.string="FREE("+l+")":(a.string="FREE",s.getComponent(cc.Button).interactable=!0),s.on(cc.Node.EventType.TOUCH_END,function(){(l>0||!e)&&(window.gameApplication.soundManager.playSound("btn_click"),this.onVideoBtnClick(function(e){t(e),this.VideoView.active=!e}.bind(this),e))},this)}.bind(this));var h=this.VideoView.getChildByName("Bg").getChildByName("Later");h.off(cc.Node.EventType.TOUCH_END),h.on(cc.Node.EventType.TOUCH_END,function(){window.gameApplication.soundManager.playSound("btn_click"),t(!1),this.VideoView.active=!1},this)},showCoinView:function(t,e){if(null==this.CoinView){var i=cc.instantiate(this.CoinView_prefab),n=cc.find("Canvas");i.parent=n,i.width=window.width,i.height=window.height,this.CoinView=i}this.CoinView.active=!0,this.CoinView.setSiblingIndex(this.CoinView.parent.childrenCount);var o=this.CoinView.getChildByName("Bg");o.scale=0,o.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)));var c=this.CoinView.getChildByName("Bg").getChildByName("Bg").getChildByName("Light");c.stopAllActions(),c.runAction(cc.repeatForever(cc.rotateBy(1.1,100)));var s=this.CoinView.getChildByName("Bg").getChildByName("Bg").getChildByName("Sure"),a=s.getChildByName("Text").getComponent(cc.Label);s.off(cc.Node.EventType.TOUCH_END);var l=0;this.checkDailyCount("coinVideo",!1,function(i){l=5-i,s.getComponent(cc.Button).interactable=l>0,e?a.string="FREE("+l+")":(a.string="FREE",s.getComponent(cc.Button).interactable=!0),s.on(cc.Node.EventType.TOUCH_END,function(){(l>0||!e)&&(window.gameApplication.soundManager.playSound("btn_click"),this.onVideoBtnClick(function(e){e&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.CoinView.active=!1}.bind(this),this))),t(e)}.bind(this),e))},this)}.bind(this));var h=this.CoinView.getChildByName("Bg").getChildByName("Later");h.off(cc.Node.EventType.TOUCH_END),h.on(cc.Node.EventType.TOUCH_END,function(){window.gameApplication.soundManager.playSound("btn_click"),t(!1),o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.CoinView.active=!1}.bind(this),this)))},this)},showHeartView:function(t,e){if(null==this.HeartView){var i=cc.instantiate(this.HeartView_prefab),n=cc.find("Canvas");i.parent=n,i.width=window.width,i.height=window.height,this.HeartView=i}this.HeartView.active=!0,this.HeartView.setSiblingIndex(this.HeartView.parent.childrenCount);var o=this.HeartView.getChildByName("Bg");o.scale=0,o.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)));var c=this.HeartView.getChildByName("Bg").getChildByName("Bg").getChildByName("Light");c.stopAllActions(),c.runAction(cc.repeatForever(cc.rotateBy(1.1,100)));var s=this.HeartView.getChildByName("Bg").getChildByName("Bg").getChildByName("Video"),a=s.getChildByName("Text").getComponent(cc.Label);s.off(cc.Node.EventType.TOUCH_END);var l=0;this.checkDailyCount("heartVideo",!1,function(i){l=5-i,s.getComponent(cc.Button).interactable=l>0,e?a.string="FREE("+l+")":(a.string="FREE",s.getComponent(cc.Button).interactable=!0),s.on(cc.Node.EventType.TOUCH_END,function(){(l>0||!e)&&(window.gameApplication.soundManager.playSound("btn_click"),this.onVideoBtnClick(function(e){e&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.HeartView.active=!1}.bind(this),this))),t(e)}.bind(this),e))},this)}.bind(this));var h=this.HeartView.getChildByName("Bg").getChildByName("Bg").getChildByName("Share"),r=h.getChildByName("Text").getComponent(cc.Label);h.off(cc.Node.EventType.TOUCH_END);var d=0;this.checkDailyCount("heartShare",!1,function(i){d=5-i,h.getComponent(cc.Button).interactable=d>0,e?r.string="FREE("+d+")":(r.string="FREE",h.getComponent(cc.Button).interactable=!0),h.on(cc.Node.EventType.TOUCH_END,function(){(d>0||!e)&&(window.gameApplication.soundManager.playSound("btn_click"),this.onShareBtnClick(function(e){e&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.HeartView.active=!1}.bind(this),this))),t(e)}.bind(this),e))},this)}.bind(this));var u=this.HeartView.getChildByName("Bg").getChildByName("Later");u.off(cc.Node.EventType.TOUCH_END),u.on(cc.Node.EventType.TOUCH_END,function(){window.gameApplication.soundManager.playSound("btn_click"),t(!1),o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.HeartView.active=!1}.bind(this),this)))},this)},showStepView:function(t,e){if(null==this.StepView){var i=cc.instantiate(this.StepView_prefab),n=cc.find("Canvas");i.parent=n,i.width=window.width,i.height=window.height,this.StepView=i}this.StepView.active=!0,this.StepView.setSiblingIndex(this.StepView.parent.childrenCount);var o=this.StepView.getChildByName("Bg");o.scale=0,o.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)));var c=this.StepView.getChildByName("Bg").getChildByName("Bg").getChildByName("Video");c.off(cc.Node.EventType.TOUCH_END),c.on(cc.Node.EventType.TOUCH_END,function(){window.gameApplication.soundManager.playSound("btn_click"),this.onVideoBtnClick(function(e){e&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.StepView.active=!1}.bind(this),this))),t(e)}.bind(this),e)},this);var s=this.StepView.getChildByName("Bg").getChildByName("Bg").getChildByName("Coin");s.off(cc.Node.EventType.TOUCH_END),s.on(cc.Node.EventType.TOUCH_END,function(){window.gameApplication.soundManager.playSound("btn_click"),SDK().getItem("coins",function(e){e>=100?(e-=100,SDK().setItem({coins:e}),t(!0),o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.StepView.active=!1}.bind(this),this)))):window.gameApplication.showCoinView(function(e){e&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.StepView.active=!1}.bind(this),this))),t(e)}.bind(this),!1)}.bind(this))},this);var a=this.StepView.getChildByName("Bg").getChildByName("Later");a.off(cc.Node.EventType.TOUCH_END),a.on(cc.Node.EventType.TOUCH_END,function(){window.gameApplication.soundManager.playSound("btn_click"),t(!1),o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.StepView.active=!1}.bind(this),this)))},this)},onVideoBtnClick:function(t,e){SDK().showVideoAd(function(){null!=t&&t(!0),e&&this.checkDailyCount("video",!0)}.bind(this))},checkDailyCount:function(t,e,i){var n=new Date,o=n.getMonth(),c=n.getDate();SDK().getItem(o+"_"+c+"_"+t,function(n){if(null==n&&(n=0),n=parseInt(n),e){n+=1;var s={};s[o+"_"+c+"_"+t]=n,SDK().setItem(s)}null!=i&&i(n)})},onGiftBtnClick:function(t){SDK().showInterstitialAd(function(e){null==e?this.fbFail(1):e?t(!0):this.fbFail(1)}.bind(this),!0)},showSharaView:function(t){if(null==this.SharaView){var e=cc.instantiate(this.SharaView_prefab),i=cc.find("Canvas");e.parent=i,e.width=window.width,e.height=window.height,this.SharaView=e}this.SharaView.active=!0;var n=this.SharaView.getChildByName("Bg").getChildByName("Sure");n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,function(){this.onShareBtnClick(function(e){t(e),e&&(this.SharaView.active=!1)}.bind(this)),window.gameApplication.soundManager.playSound("btn_click")},this);var o=this.SharaView.getChildByName("Bg").getChildByName("Later");o.off(cc.Node.EventType.TOUCH_END),o.on(cc.Node.EventType.TOUCH_END,function(){this.SharaView.active=!1,window.gameApplication.soundManager.playSound("btn_click")},this)},onShareBtnClick:function(t){SDK().getItem("all",function(e){SDK().share(e,function(e){e?null!=t&&t(!0):this.fbFail(2),this.soundManager.audioSource.play(),this.soundManager.audioSource.loop=!0}.bind(this))}.bind(this))},fbFail:function(t){var e=cc.instantiate(this.fbView_prefab),i=cc.find("Canvas");e.parent=i,e.width=window.width,e.height=window.height;var n=e.getChildByName("Okay");n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,function(){this.fbView.active=!1,n.parent.destroy(),window.gameApplication.soundManager.playSound("button")},this),this.fbView=e,1==t?(this.fbView.getChildByName("Bg").getChildByName("VideoText").active=!0,this.fbView.getChildByName("Bg").getChildByName("ShareText").active=!1):(this.fbView.getChildByName("Bg").getChildByName("VideoText").active=!1,this.fbView.getChildByName("Bg").getChildByName("ShareText").active=!0),this.fbView.active=!0},popClick:function(t,e){SDK().switchGameAsync(e)},shake:function(t){t.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.1,5).easing(cc.easeIn(2)),cc.rotateTo(.2,-5).easing(cc.easeIn(2)),cc.rotateTo(.2,5).easing(cc.easeIn(2)),cc.rotateTo(.1,0).easing(cc.easeIn(2)),cc.delayTime(.5))))},scaleUpAndDowm:function(t){t.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.1).easing(cc.easeIn(2)),cc.scaleTo(.6,.9).easing(cc.easeIn(2)),cc.scaleTo(.6,1.1).easing(cc.easeIn(2)),cc.scaleTo(.6,.9).easing(cc.easeIn(2)))))},flyReward:function(t,e,i,n,o){var c;window.gameApplication.soundManager.playSound("getCoin"),null!=n?(c=n.parent.convertToWorldSpaceAR(n.position),c=this.effectView.convertToNodeSpaceAR(c)):c=cc.v2(0,0);var s=i.parent.convertToWorldSpaceAR(i.position);s=this.effectView.convertToNodeSpaceAR(s);for(var a=0;a<t;a++){var l=this.rewardList.pop();null==l&&(l=new cc.Node(a));var h=l.getComponent(cc.Sprite);null==h&&(h=l.addComponent(cc.Sprite)),l.parent=this.effectView,l.position=c,h.spriteFrame=this.uiAtlas.getSpriteFrame(e),this.flyAnim(l,s,o,a)}},flyAnim:function(t,e,i,n){t.scale=0,this.scheduleOnce(function(){t.runAction(cc.spawn(cc.moveTo(.8,cc.v2(e.x,e.y)),cc.sequence(cc.scaleTo(.4,1.1),cc.scaleTo(.4,0),cc.callFunc(function(){null!=i&&i(),this.rewardList.push(t)}.bind(this),this))))}.bind(this),.1*n)}}),cc._RF.pop()},{"../GameLogic/SoundManager":"SoundManager"}],GameView:[function(t,e){"use strict";cc._RF.push(e,"3a5f4xh9CRAI6wc4y+upnjw","GameView");var i,n=t("../../Utils/Utils"),o=t("./HexCell"),c=t("./Role"),s=t("./Enemy"),a=t("./Tower"),l=100;cc.Class({extends:cc.Component,properties:{shootings:{default:[],type:[cc.Node]},invAgain:{default:null,type:cc.Node},mission:{default:null},gm:{default:null,type:cc.Node},title:{default:null,type:cc.Label},star1:{default:null,type:cc.Node},star2:{default:null,type:cc.Node},star3:{default:null,type:cc.Node},moves:{default:null,type:cc.Label},best:{default:null,type:cc.RichText},tileBox:{default:null,type:cc.Node},iceBox:{default:null,type:cc.Node},maxValidMoves:{default:0,type:cc.Integer,visible:!1},movesLeft:{default:0,type:cc.Integer,visible:!1},moved:{default:0,type:cc.Integer,visible:!1},leaveSteps:{default:null,type:cc.Node},levelDimensions:{default:cc.v2(0,0),visible:!1},gridOffset:{default:cc.v2(0,0),visible:!1},hexCellPrefab:{default:null,type:cc.Node},icePrefab:{default:null,type:cc.Node},rolePrefab:{default:null,type:cc.Node},enemyPrefab:{default:null,type:cc.Node},enemyPrefab1:{default:null,type:cc.Node},enemyPrefab2:{default:null,type:cc.Node},endPrefab:{default:null,type:cc.Node},allCells:{default:[],type:[o]},allTowers:{default:[],type:[a]},myRole:{default:null,type:c},enemys:{default:[]},helplines:{default:[]},stepsLines:{default:[]},endObj:{default:null,type:c},selectedLines:{default:[]},mouseIsDown:!1,userInputEnabled:!1,gameOver:!1,prevTilePosition:{default:cc.v2(-1e3,-1e3),visible:!1},mouseOffsetPos:{default:cc.v2(0,0),visible:!1},touchPos:{default:cc.v2(0,0),visible:!1},movePlus:{get:function(){return[cc.v2(0,1),cc.v2(-1,0),cc.v2(0,-1),cc.v2(1,0)]}},helpPath:{default:[]},helpShaked:{default:[]},helpBtn:{default:null,type:cc.Node},helpCountLabel:{default:null,type:cc.Label},_helpCount:{default:0,type:cc.Integer},helpCount:{get:function(){return this._helpCount},set:function(t){this._helpCount=t,this.helpCountLabel.string=t.toString();var e={};e.my_help=this._helpCount>0?this._helpCount:-1,SDK().setItem(e,null),this.helpBtn.getChildByName("icon").active=!0,this.helpBtn.getChildByName("num").active=!0}},shareFriendTip:{default:null,type:cc.Node},adSprite:{default:null,type:cc.Sprite},receiveGiftNode:{default:null,type:cc.Node},giftBtn:{default:null,type:cc.Node},preBtn:{default:null,type:cc.Node},nextBtn:{default:null,type:cc.Node},endView:{default:null,type:cc.Node},endView_Stars:{default:null,type:cc.Node},endView_title:{default:null,type:cc.Label},endView_text:{default:null,type:cc.RichText},gameApplication:{default:null,type:Object},isMoving:!1,lastDirection:{default:-1,type:cc.Integer},turnBackCount:{default:0,type:cc.Integer},timesNode:{default:null,type:cc.Node},timesVal:{default:null,type:cc.Label},timesLeft:{default:0,type:cc.Integer},timeOutflowCB:{default:null},timeIsUpNode:{default:null,type:cc.Node},timeIsUpEndNode:{default:null,type:cc.Node},gotMoreTime:!1,opad_game_id:null},onLoad:function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height},plusMoreHelp:function(){this.helpCount+=plusHelp},clearHelp:function(){this.helpCount=0},clearData:function(){SDK().clearData()},onEnable:function(){this.scheduleOnce(function(){this.init()},.7),this.unschedule(this.shootingStars),this.schedule(this.shootingStars,4)},shootingStars:function(){for(var t=0;t<this.shootings.length;t+=1)this.shootAnim(this.shootings[t])},shootAnim:function(t){var e=3*Math.random();t.x=cc.winSize.width+100,t.y=n.GetRandomNum(.5*cc.winSize.height,2*cc.winSize.height),this.scheduleOnce(function(){t.runAction(cc.moveBy(.5,cc.v2(-2.5*cc.winSize.width,-2.5*cc.winSize.width)))}.bind(this),e)},start:function(){var t=cc.find("GameApplication");null!=t&&(this.gameApplication=t.getComponent("GameApplication")),void 0!==this.gameApplication&&null!=this.gameApplication?(this.gm.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.onMouseDown(t)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.onMouseMove(t)},this)):this.onBackBtnClicked()},onDisable:function(){this.clear()},clear:function(){this.unschedule(this.timeOutflow),this.clearTile(),this.allCells.splice(0,this.allCells.length),this.allTowers.splice(0,this.allTowers.length),this.selectedLines.splice(0,this.selectedLines.length),this.enemys.splice(0,this.enemys.length),this.helplines.splice(0,this.helplines.length),this.myRole=null,this.helpShaked.splice(0,this.helpShaked.length),null!=this.helpPath&&this.helpPath.length>0&&this.helpPath.splice(0,this.helpPath.length),l=100,this.mouseIsDown=!1,this.gameOver=!1,this.movesLeft=0,this.moved=0,this.turnBackCount=0,this.lastDirection=-1,this.isMoving=!1,this.currentLineColor=0,this.oldCurrentLineColor=0},clearTile:function(){if(this.tileBox.childrenCount>0)for(var t=0;t<this.tileBox.childrenCount;t++)null!=(e=this.tileBox.children[t])&&(e.active=!1,e.destroy());if(this.iceBox.childrenCount>0)for(t=0;t<this.iceBox.childrenCount;t++){var e;null!=(e=this.iceBox.children[t])&&(e.active=!1,e.destroy())}},init:function(){var t=this;if(this.selectedLines=[],this.enemys=[],this.helplines=[],this.helpPath=[],this.myRole=null,this.isMoving=!1,this.endView.active=!1,this.timeIsUpNode.active=!1,this.gotMoreTime=!1,null!=bid&&bid>0&&null!=mid&&mid>0&&null!=lid&&lid>0){var e="conf/level_detail/b_"+bid+"/"+mid+"/"+lid;this.gameApplication.getConf(e,function(t){this.mission=t.json,this.initGame()}.bind(this));var i=[];lid>1&&i.push(lid-1),lid<100&&i.push(lid+1),i.forEach(function(e){var i="conf/level_detail/b_"+bid+"/"+mid+"/"+e;t.gameApplication.getConf(i,null)}),this.initHelpBtn()}else this.onBackBtnClicked()},initHelpBtn:function(){var t=this;SDK().getItem("my_help",function(e){t.helpCount=0==e?5:-1==e?0:e}.bind(this))},initGame:function(){var t=this.judgeIdx(mid,lid);window.lastPlay=t,this.timeIsUpNode.active=!1,this.timeIsUpEndNode.active=!1,this.gotMoreTime=!1,this.leaveSteps.active=!1,this.endView.active=!1,this.clear();var e=this.mission.lines.length;this.turnBackCount=0,this.helpShaked.splice(0,this.helpShaked.length),this.lastDirection=-1;var i="conf/level_list/level_"+bid+"_"+mid;this.gameApplication.getConf(i,function(){this.title.string="\u7b2c"+_curLevel+"\u5173"}.bind(this)),this.moves.string="0/"+e,this.preBtn.active=!1,this.nextBtn.active=!1,SDK().getItem(bid+"_"+mid+"_"+lid+"_moves",function(t){this.best.string=t<=0?"-":t.toString()}.bind(this));var o=cc.v2(this.mission.x,this.mission.y);this.createGrid(o,this.mission.walls,this.mission.ice,this.mission.tower,function(){this.scheduleOnce(function(){if(this.createRole(this.mission.start,this.mission.end),this.initHelpPath(n.cloneObj(this.mission.lines)),this.mission.enemy.length>0&&this.createEnemy(this.mission.enemy),1==mid&&(this.moved=0,this.maxValidMoves=this.getSteps(),this.maxValidMoves=this.maxValidMoves+5,this.movesLeft=this.maxValidMoves,this.leaveSteps.active=!0,this.updateUI()),3==mid){var t=12;t=lid<=5?12:lid<=20?15:lid<=45?20:lid<=75?25:30,this.timesLeft=t,this.timesNode.active=!0,this.timesVal.string=t.toString();var e=t;this.schedule(this.timeOutflow,1,e,1)}else this.timesLeft=-1,this.timesNode.active=!1}.bind(this),.5)}.bind(this))},initHelpPath:function(t){if(2!=mid&&4!=mid&&6!=mid)this.helpPath=t;else{this.helpPath=[],this.helpPath.push(this.myRole.axialCoordinate);for(var e=0;t.length>0;){for(var i=0;i<t.length;i++){var n=t[i];if(null!=n){n=this.checkXY(n,0,0);for(var o=this.checkMovePos(n),c=0;c<o.length;c++){var s=this.helpPath[this.helpPath.length-1];if(o[c].x==s.x&&o[c].y==s.y){this.helpPath.push(t[i]),t.splice(i,1);break}}}}++e>=500&&(t.splice(0,t.length),t=[])}}this.stepsLines=this.helpPath},timeOutflow:function(){var t=this;this.timesLeft>0&&(this.timesLeft--,this.timesLeft<10&&this.timesLeft>1&&this.schedule(function(){t.gameApplication.soundManager.playSound("clock")},.5,2,0),this.timesNode.active=!0,this.timesVal.string=this.timesLeft.toString(),this.timesLeft<10?this.timesVal.node.color=cc.Color.RED:this.timesVal.node.color=cc.Color.WHITE,0==this.timesLeft&&(this.gameOver=!0,this.gotMoreTime?(this.timeIsUpNode.active=!1,this.timeIsUpEndNode.active=!0):(SDK().hasVideoAd(),this.timeIsUpNode.active=!0,this.timeIsUpEndNode.active=!1)))},getMoreTime:function(t,e){t.target.getComponent(cc.Button).interactable=!1,1==e?window.gameApplication.onVideoBtnClick(function(e){e&&(this.addTime(),this.timeIsUpNode.active=!1),t.target.getComponent(cc.Button).interactable=!0}.bind(this),!1):2==e&&SDK().getItem("coins",function(e){e>=100?(e-=100,SDK().setItem({coins:e}),this.addTime()):window.gameApplication.showCoinView(function(t){t&&this.addTime()}.bind(this),!1),t.target.getComponent(cc.Button).interactable=!0}.bind(this))},addTime:function(){this.timesLeft=10,this.timesNode.active=!0,this.timesVal.string="10",this.timeIsUpNode.active=!1,this.gotMoreTime=!0,this.gameOver=!1,this.unschedule(this.timeOutflow),this.schedule(this.timeOutflow,1,10,1)},getMoreTimeInv:function(t){var e=this;SDK().getItem("all",function(i){SDK().share(i,function(i){i?(e.timesLeft=10,e.timesNode.active=!0,e.timesVal.string="10",e.gotMoreTime=!0,e.gameOver=!1,e.unschedule(this.timeOutflow),e.schedule(e.timeOutflow,1,10,1)):e.showInvAgain(3,t),t.target.getComponent(cc.Button).interactable=!0}.bind(this))}.bind(this))},restarGame:function(t){this.myRole.node.stopAllActions(),this.unschedule(this.timeOutflow),this.timesVal.node.color=cc.Color.WHITE,this.timeIsUpNode.active=!1,this.gotMoreTime=!1,this.endView.active=!1,this.selectedLines.splice(0,this.selectedLines.length),this.enemys.splice(0,this.enemys.length),this.helplines.splice(0,this.helplines.length),this.helpPath.splice(0,this.helpPath.length),this.helpShaked.splice(0,this.helpShaked.length),this.isMoving=!1,this.movesLeft=this.maxValidMoves,this.moved=0,this.turnBackCount=0,this.lastDirection=-1,null!=t&&t>0?this.scheduleOnce(function(){this.gameOver=!1,this.myRole=null,this.initGame()},t):(this.gameOver=!1,this.myRole=null,this.initGame())},getSteps:function(){var t=[],e=null,i=0;null==e&&(e=this.checkXY(this.stepsLines[0],0,0),i=0),t.push(cc.v2(e.x,e.y));for(var n=1;i<this.stepsLines.length;)for(var o=!0;i<this.stepsLines.length&&o;)e=this.checkXY(this.stepsLines[i],0,0),t.push(cc.v2(e.x,e.y)),this.getCellByCoordinate(e)&&this.checkCanMoveCount(this.checkMove(e))>2&&t.length>1&&(o=!1,n++),i++;return n},help:function(){if(!(this.gameOver||null==this.myRole||this.helpPath.length<=0)){var t=null,e=0;if(this.selectedLines.length>0)for(var i=this.helpPath.length-1;i>=0;i--)for(var n=this.checkXY(this.helpPath[i],0,0),o=cc.v2(n.x,n.y),c=this.selectedLines.length-1;c>=0;c--){var s=this.selectedLines[c];if(null==t&&o.equals(s)){t=o,e=i;break}}null==t&&(t=this.checkXY(this.helpPath[0],0,0),e=0),this.showHelpLine(t,e)}},showHelpLine:function(t,e){if(!(this.helpPath.length<=0)){var i=cc.v2(t.x,t.y);this.helplines.length>0&&(i=this.helplines[this.helplines.length-1]);for(var o=0;o<this.helpPath.length;o++){var c=this.helpPath[o];if(i.equals(c)){i=cc.v2(c.x,c.y),e=o;break}}e<this.helpPath.length-1&&this.helpCount--,this.helplines.length<=0&&(!i.equals(this.myRole.axialCoordinate)&&n.isNeighbors(i,this.myRole.axialCoordinate)&&this.helplines.push(cc.v2(this.myRole.axialCoordinate.x,this.myRole.axialCoordinate.y)),this.helplines.push(cc.v2(i.x,i.y)));for(var s=!0;++e<this.helpPath.length&&s;)t=this.checkXY(this.helpPath[e],0,0),this.helplines.push(cc.v2(t.x,t.y)),(a=this.getCellByCoordinate(t))&&this.checkCanMoveCount(this.checkMove(t))>2&&this.helplines.length>1&&!a.isIce&&this.helplines.length>this.selectedLines.length&&(s=!1);if(this.helplines.length>1)for(o=0;o<this.helplines.length;o++){var a,l=this.helplines[o];(a=this.getCellByCoordinate(l))&&(0==o?a.showStartHelp(this.helplines[o+1]):o==this.helplines.length-1?a.showEndHelp(this.helplines[this.helplines.length-2]):a.showHelp(this.helplines[o-1],this.helplines[o+1]))}}},update:function(){if(!this.gameOver){if(this.enemys.length>0)for(var t=0;t<this.enemys.length;t++){var e=this.enemys[t];this.roundMove(e)}if(this.allTowers.length>0)for(t=0;t<this.allTowers.length;t++){var i=this.allTowers[t];this.towerShoot(i)}}},towerShoot:function(t){if(!t.isShooting){t.isShooting=!0,t.bubble.active=!0;var e=this.checkMove(t.bubbleAxialCoordinate),i=-1;if(-1!=t.direction&&e[t.direction]&&(i=t.direction),-1==i){var n=cc.callFunc(function(){t.bubble.getComponent("NormalAnimation").play()},this),o=cc.delayTime(1),c=cc.callFunc(function(){t.bubbleAxialCoordinate=t.axialCoordinate,t.bubble.position=t.node.getPosition().multiply(cc.v2(.5,.5)),t.bubble.opacity=0},this),s=cc.delayTime(t.delay),a=cc.callFunc(function(){t.isShooting=!1,t.bubble.opacity=255},this),l=cc.sequence(n,o,c,s,a);t.bubble.runAction(l)}else{var h,r=t.bubbleAxialCoordinate.add(this.movePlus[i]),d=this.getCellByCoordinate(r),u=this.tileBox.convertToWorldSpaceAR(d.node.getPosition()),p=t.node.convertToNodeSpaceAR(u);h=1==i?cc.v2(-1*p.y,-1*p.x):2==i?cc.v2(-1*p.x,-1*p.y):3==i?cc.v2(p.y,p.x):cc.v2(p.x,p.y);var f=cc.moveTo(.3*t.s,h.y,h.x);n=cc.callFunc(function(){t.bubbleAxialCoordinate=r,t.isShooting=!1},this),l=cc.sequence(f,n),t.bubble.runAction(l)}}},roundMove:function(t){if(!t.isMoving){t.isMoving=!0;var e=this.checkMove(t.axialCoordinate),i=-1;if(-1!=t.direction&&e[t.direction]&&1==this.checkMoveDirectionCount(e,t.direction)||-1!=t.direction&&e[t.direction]&&Math.random()>.6)i=t.direction;else for(;-1==i;){var o=n.GetRandomNum(0,3);e[o]&&(i=o)}t.direction=i;var c=t.axialCoordinate.add(this.movePlus[i]),s=this.getCellByCoordinate(c).node.getPosition(),a=cc.moveTo(1,s.x,s.y),l=cc.callFunc(function(){t.axialCoordinate=c,t.isMoving=!1},this),h=cc.sequence(a,l);t.node.runAction(h)}},onMouseDown:function(t){this.gameOver||null==this.myRole||(this.mouseIsDown=!0,this.touchPos=this.tileBox.convertToNodeSpaceAR(t.getLocation()))},onMouseMove:function(t){if(!this.gameOver&&null!=this.myRole&&this.mouseIsDown){var e=this.tileBox.convertToNodeSpaceAR(t.getLocation()),i=e.x-this.touchPos.x,n=e.y-this.touchPos.y;if(Math.abs(i)<30&&Math.abs(n)<30)return;Math.abs(i)>Math.abs(n)?i<0?this.doAction(1,!0):this.doAction(3,!0):n>0?this.doAction(0,!0):this.doAction(2,!0),this.mouseIsDown=!1}},getCellByCoordinate:function(t){for(var e=0;e<this.allCells.length;e++){var i=this.allCells[e];if(i.axialCoordinate.equals(t))return i}return null},die:function(){this.unschedule(this.timeOutflow),this.gameOver=!0,this.myRole.playDie(),this.gameApplication.soundManager.playSound("error"),this.scheduleOnce(function(){this.gameApplication.openMainView()}.bind(this),1)},showGameOver:function(){if(null!=bid&&bid>0&&null!=mid&&mid>0&&null!=lid&&lid>0){var t=[];lid<100&&t.push(lid+1),t.forEach(function(t){var e="conf/level_detail/b_"+bid+"/"+mid+"/"+t;window.gameApplication.getConf(e,null)})}this.gameApplication.soundManager.playSound("gamewin"),this.unschedule(this.timeOutflow),this.timeIsUpNode.active=!1;var e=this;this.gameOver=!0,this.endView.active=!0;var i;i=this.turnBackCount<=0?3:this.turnBackCount<=6?2:1,this.endView_title.string=3==i?"GREAT":2==i?"GOOD":"CLEAR",this.endView_title.string="COMPLETED",this.endView_text.string="You finish with "+this.moved+" moves",this.giftBtn.active=!0,SDK().getItem(bid+"_"+mid+"_"+lid,function(t){if(SDK().getItem("curIdx",function(t){var e=this.judgeIdx(mid,lid);if(e+1>t){var i={};window.curIdx=e+1,i.curIdx=window.curIdx,SDK().setItem(i,function(){window.mainScirpt.initStage(window.curIdx)}.bind(this))}}.bind(this)),t<1){var e={};e[bid+"_"+mid+"_"+lid]=1;var i=0;SDK().setItem(e,function(){++i>=2&&this.scheduleOnce(function(){this.endView.active=!1;var t=this.judgeIdx(mid,lid);window.mainScirpt.initStage(t),this.gameApplication.openMainView(!0),t%10==0&&0!=t&&window.timeGiftScript.showTimeGiftView(2)}.bind(this),1)}.bind(this)),SDK().getItem("all",function(t){t+=1,SDK().setRankScore(2,t,"{}",null),SDK().setItem({all:t},function(){++i>=2&&this.scheduleOnce(function(){this.endView.active=!1;var t=this.judgeIdx(mid,lid);window.mainScirpt.initStage(t),this.gameApplication.openMainView(!0),t%10==0&&0!=t&&window.timeGiftScript.showTimeGiftView(2)}.bind(this),1)}.bind(this))}.bind(this)),SDK().getItem(bid+"_"+mid,function(t){t+=1;var e={};e[bid+"_"+mid]=t,SDK().setItem(e,null)}.bind(this))}else this.scheduleOnce(function(){this.endView.active=!1,this.gameApplication.openMainView()}.bind(this),1)}.bind(this)),SDK().getItem(bid+"_"+mid+"_"+lid+"_moves",function(t){if(e.moved<t||t<=0){var i={};i[bid+"_"+mid+"_"+lid+"_moves"]=e.moved,SDK().setItem(i,null)}}.bind(this)),this.gameApplication.playTimes++},judgeIdx:function(t,e){var i=0;return e>=50?(e-=50,i=(i=300)+10*(t-1)+50*Math.floor((e-1)/10)+e%10):i=10*(t-1)+60*Math.floor((e-1)/10)+(e-1)%10,i},onOpAdClicked:function(){null!=this.opad_game_id&&SDK().switchGameAsync(this.opad_game_id)},checkWin:function(){var t=this.myRole.axialCoordinate.equals(this.endObj.axialCoordinate);return t&&this.showGameOver(),t},moveEnd:function(){if(this.isMoving=!1,!this.checkWin()){var t=this.checkMove();this.gameApplication.soundManager.playSound("done"),this.getCellByCoordinate(this.myRole.axialCoordinate).isIce&&t[this.lastDirection]?this.doAction(this.lastDirection,!0):(this.moved++,this.movesLeft--,this.turnBackCount>0&&this.turnBackCount%2==0&&!n.inArray(this.turnBackCount,this.helpShaked)&&(this.helpBtnShake(),this.helpShaked.push(this.turnBackCount)),this.myRole.setArrow(t[0],t[1],t[2],t[3]))}this.updateUI()},addSelectedLines:function(t){var e=this;if(this.selectedLines.length>=2&&t.equals(this.selectedLines[this.selectedLines.length-2])){var i=this.selectedLines.pop();this.getCellByCoordinate(i).hideLine()}else this.selectedLines.push(cc.v2(t.x,t.y));this.selectedLines.length>1&&this.scheduleOnce(function(){for(var t=0;t<=e.selectedLines.length-1;t++){var i=e.selectedLines[t];(n=e.getCellByCoordinate(i)).hideLine()}for(t=0;t<=e.selectedLines.length-1;t++){i=e.selectedLines[t];var n=e.getCellByCoordinate(i);0==t?n.showStartLine(e.selectedLines[t+1]):t==e.selectedLines.length-1?n.showEndLine(e.selectedLines[e.selectedLines.length-2]):n.showLine(e.selectedLines[t-1],e.selectedLines[t+1])}},.08)},doAction:function(t,e){if(!this.isMoving&&!this.gameOver){this.isMoving=!0,this.myRole.hideArrow();var i=this,n=this.checkMove();if(!e&&this.checkMoveDirectionCount(n,t)>1)this.moveEnd();else if(n[t]){var o=this.myRole.axialCoordinate.add(this.movePlus[t]);if(null!=(h=this.getCellByCoordinate(o))){(0==t?2==this.lastDirection:3==t?1==this.lastDirection:1==t?3==this.lastDirection:0==this.lastDirection)&&this.turnBackCount++,this.lastDirection=t;var c=h.node.getPosition(),s=cc.moveTo(.12,c.x,c.y),a=cc.callFunc(function(){i.myRole.axialCoordinate=o,i.isMoving=!1,i.checkWin()||i.doAction(t,!1)},this);this.addSelectedLines(o);var l=cc.sequence(s,a);i.myRole.node.runAction(l)}}else{var h;this.gameApplication.soundManager.playSound("done"),1==this.checkMoveDirectionCount(n,t)?(t=this.getkMoveDirection(n,t),this.checkWin()||((h=this.getCellByCoordinate(this.myRole.axialCoordinate)).isIce?this.moveEnd():(this.isMoving=!1,i.doAction(t,!0)))):this.moveEnd()}}},getkMoveDirection:function(t,e){var i;i=0==e?2:3==e?1:1==e?3:0;for(var n=0;n<t.length;n++)if(t[n]&&n!=i)return n},checkCanMoveCount:function(t){for(var e=0,i=0;i<t.length;i++)t[i]&&e++;return e},checkMoveDirectionCount:function(t,e){var i;i=0==e?2:3==e?1:1==e?3:0;for(var n=0,o=0;o<t.length;o++)t[o]&&o!=i&&n++;return n},checkMove:function(t){null==t&&(t=this.myRole.axialCoordinate);var e=n.getNeighborsOBJ(t),i=!0,o=!0,c=!0,s=!0,a=this.getCellByCoordinate(t);if(null!=a&&(a.leftActive&&(o=!1),a.rightActive&&(s=!1),a.topActive&&(i=!1),a.bottomActive&&(c=!1)),i){var l=this.getCellByCoordinate(e.t);null!=l&&l.bottomActive&&(i=!1)}if(c){var h=this.getCellByCoordinate(e.b);null!=h&&h.topActive&&(c=!1)}if(o){var r=this.getCellByCoordinate(e.l);null!=r&&r.rightActive&&(o=!1)}if(s){var d=this.getCellByCoordinate(e.r);null!=d&&d.leftActive&&(s=!1)}return[i,o,c,s]},checkMovePos:function(t){null==t&&(t=this.myRole.axialCoordinate);var e=n.getNeighborsOBJ(t),i=e.t,o=e.l,c=e.b,s=e.r,a=this.getCellByCoordinate(t);if(null!=a&&(a.leftActive&&(o=cc.v2(-1,-1)),a.rightActive&&(s=cc.v2(-1,-1)),a.topActive&&(i=cc.v2(-1,-1)),a.bottomActive&&(c=cc.v2(-1,-1))),i){var l=this.getCellByCoordinate(e.t);null!=l&&l.bottomActive&&(i=cc.v2(-1,-1))}if(c){var h=this.getCellByCoordinate(e.b);null!=h&&h.topActive&&(c=cc.v2(-1,-1))}if(o){var r=this.getCellByCoordinate(e.l);null!=r&&r.rightActive&&(o=cc.v2(-1,-1))}if(s){var d=this.getCellByCoordinate(e.r);null!=d&&d.leftActive&&(s=cc.v2(-1,-1))}return[i,o,c,s]},createEnemy:function(t){var e=l/100;if(!(t.length<=0))for(var i=0;i<t.length;i++){var n,o=t[i],c=this.getCellByCoordinate(cc.v2(o.x,o.y)),a=Math.random();(n=a<.33?cc.instantiate(this.enemyPrefab):a<.66?cc.instantiate(this.enemyPrefab1):cc.instantiate(this.enemyPrefab2)).parent=this.tileBox,n.setScale(e),n.setPosition(c.node.getPosition()),n.active=!0,(o=n.getComponent(s)).axialCoordinate=c.axialCoordinate,this.enemys.push(o)}},createRole:function(t,e){var i=l/100;t=this.checkXY(t,0,0),e=this.checkXY(e,0,0);var n=this.getCellByCoordinate(cc.v2(t.x,t.y)),o=this.getCellByCoordinate(cc.v2(e.x,e.y)),s=cc.instantiate(this.rolePrefab);s.parent=this.tileBox,s.setScale(i),s.setPosition(n.node.getPosition()),s.active=!0;var a=s.getComponent(c);this.myRole=a,this.myRole.init(),this.myRole.axialCoordinate=n.axialCoordinate,this.selectedLines.push(cc.v2(n.axialCoordinate.x,n.axialCoordinate.y));var h=this.checkMove();this.myRole.setArrow(h[0],h[1],h[2],h[3]);var r=cc.instantiate(this.endPrefab);r.parent=this.tileBox,r.setScale(i),r.setPosition(o.node.getPosition()),r.active=!0,this.endNode=r;var d=r.getComponent(c);this.endObj=d,this.endObj.axialCoordinate=o.axialCoordinate,this.myRole.gameView=this,this.myRole.setDark(4==mid)},collisionCallback:function(){this.die()},createGrid:function(t,e,c,s,a){this.gridOffset.x=0,this.gridOffset.y=0,Math.max(t.x,t.y);var h=cc.director.getWinSize(),r=this.tileBox.getContentSize(),d=r.height,u=h.width;if(d<(l=(u-(lineWidth-lineWidth*t.x))/t.x)*t.y){var p=((u=r.height)-(lineWidth-lineWidth*t.y))/t.y;p<l&&(l=p,this.gridOffset.x=.5*(h.width-t.x*l+t.x*lineWidth))}var f,g=i=l;this.levelDimensions=t;var m=cc.v2(0,0),v=cc.v2(0,0),y=.5*(r.height-this.levelDimensions.y*l+this.levelDimensions.y*lineWidth);this.gridOffset.y=-1*r.height+y;for(var w=0;w<this.levelDimensions.x;w++)for(var C=0;C<this.levelDimensions.y;C++){m.x=w,m.y=C,(v=n.axialToScreen(m,i)).x+=this.gridOffset.x,v.y+=this.gridOffset.y,(f=cc.instantiate(this.hexCellPrefab)).parent=this.tileBox,f.setPosition(v.add(cc.v2(0,1e3))),f.setContentSize(cc.size(g,g)),f.active=!0;var b=this;C%2==0?f.runAction(cc.sequence(cc.moveTo(.2+.05*m.y,v.x,v.y),cc.callFunc(function(){b.gameApplication.soundManager.playSound("uplock")}))):f.runAction(cc.moveTo(.2+.05*m.y,v.x,v.y)),f.name="grid"+w.toString()+"_"+C.toString(),f.zIndex=0,(A=f.getComponent(o)).scaleChild(g/100,g/100),A.axialCoordinate=m,this.allCells.push(A)}if(!(null==e||e.length<=0)){for(b=this,w=0;w<e.length;w++){var x,S,A,T=e[w],N=b.checkXY(T.w1,0,0),B=b.checkXY(T.d1,0,0);N.x<B.x||N.y>B.y?(x=N,S=B):(x=B,S=N),(A=this.getCellByCoordinate(cc.v2(x.x,x.y-1)))?x.x==S.x?A.setLeft(!0):A.setTop(!0):(A=this.getCellByCoordinate(cc.v2(x.x,x.y)))?x.x==S.x?A.setRight(!0):A.setBottom(!0):(A=this.getCellByCoordinate(cc.v2(x.x-1,x.y-1)))&&(x.x==S.x?A.setRight(!0):A.setBottom(!0))}this.scheduleOnce(function(){if(this.scheduleOnce(function(){if(null!=c&&c.length>0)for(var t=0;t<c.length;t++){var e=c[t],i=this.getCellByCoordinate(cc.v2(e.x,e.y));if(null!=i){i.setIce(!0);var n=cc.instantiate(this.icePrefab);n.parent=this.iceBox,n.setPosition(i.node.getPosition()),n.setContentSize(i.node.getContentSize()),n.active=!0,n.setScale(.3,.3),n.runAction(cc.scaleTo(.35,1,1))}}}.bind(this),1),null!=s&&s.length>0)for(var t=0;t<s.length;t++){var e,i,n=s[t],o=b.checkXY(n.w1,0,0),l=b.checkXY(n.d1,0,0),h=null;o.x<l.x||o.y>l.y?(e=o,i=l):(e=l,i=o),1==n.direction?null==(h=this.getCellByCoordinate(cc.v2(Math.max(e.x,i.x)-1,i.y)))&&(h=this.getCellByCoordinate(cc.v2(Math.max(e.x,i.x),i.y))):3==n.direction?null==(h=this.getCellByCoordinate(cc.v2(Math.max(e.x,i.x),i.y)))&&(h=this.getCellByCoordinate(cc.v2(Math.max(e.x,i.x)-1,i.y))):0==n.direction?null==(h=this.getCellByCoordinate(cc.v2(e.x,Math.min(e.y,i.y))))&&(h=this.getCellByCoordinate(cc.v2(e.x,Math.max(e.y,i.y)))):2==n.direction&&null==(h=this.getCellByCoordinate(cc.v2(e.x,Math.max(e.y,i.y)-1)))&&(h=this.getCellByCoordinate(cc.v2(e.x,Math.max(e.y,i.y)))),null!=h&&(e.x==i.x?1==n.direction?(h.setRightTower(!0),this.pushTower(h.rightTower,h.axialCoordinate,n)):(h.setLeftTower(!0),this.pushTower(h.leftTower,h.axialCoordinate,n)):0==n.direction?(h.setTopTower(!0),this.pushTower(h.topTower,h.axialCoordinate,n)):(h.setBottomTower(!0),this.pushTower(h.bottomTower,h.axialCoordinate,n)),h.node.zIndex=1)}a&&a()}.bind(this),.5+.05*this.levelDimensions.y)}},pushTower:function(t,e,i){var n=t.getComponent(a);n.axialCoordinate=e,n.init(i),this.allTowers.push(n)},checkXY:function(t,e,i){return null==t.x&&(t.x=i),null==t.y&&(t.y=e),t},updateUI:function(){this.moves.string=this.movesLeft+"/"+this.maxValidMoves,this.movesLeft<=0&&1==mid&&(this.gameOver=!0,window.gameApplication.showStepView(function(t){t?(this.gameOver=!1,this.movesLeft=5,this.updateUI()):this.gameApplication.openMainView()}.bind(this),!1))},onBackBtnClicked:function(){null!=this.gameApplication&&this.gameApplication.soundManager.playSound("btn_click"),this.gameApplication.openMainView()},onNextBtnClicked:function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},1),this.gameApplication.soundManager.playSound("btn_click"),this.nextGame(e)},onPreviousBtnClicked:function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},1),this.gameApplication.soundManager.playSound("btn_click"),this.prevGame()},onReStarBtnClicked:function(t){this.timeIsUpNode.active=!1;var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},.2),window.gameApplication.soundManager.playSound("btn_click"),window.gameApplication.openMainView()},onHelpBtnClicked:function(){this.gameOver||null==this.myRole||this.helpPath.length<=0||(this.helpCount>0?(window.gameApplication.soundManager.playSound("btn_click"),this.help()):(window.gameApplication.soundManager.playSound("btn_click"),this.shareFriendTip.active=!0))},onWatchVideoBtnClicked:function(t){t.target.getComponent(cc.Button).interactable=!1;var e=this;SDK().showVideoAd(function(i){i&&(e.helpCount=plusHelp),t.target.getComponent(cc.Button).interactable=!0,e.shareFriendTip.active=!1}.bind(this))},onShareInvBtnClicked:function(t){this.gameApplication.soundManager.playSound("btn_click");var e=this;this.gameApplication.soundManager.playSound("done"),SDK().getItem("all",function(i){SDK().share(i,function(i){i?e.helpCount=plusHelp:e.showInvAgain(1,t),t.target.getComponent(cc.Button).interactable=!0,e.shareFriendTip.active=!1})}.bind(this))},showInvAgain:function(t,e){var i=this;this.invAgain.active=!0,cc.find("box/btn_4",this.invAgain).getComponent(cc.Button).node.on("click",function(){1==t?i.onShareInvBtnClicked(e):2==t?i.onShareBtnClicked(e):3==t&&i.getMoreTimeInv(e),i.invAgain.active=!1},this)},onCloseWatchVideoTipClicked:function(){this.gameApplication.soundManager.playSound("btn_click"),this.shareFriendTip.active=!1},onShareBtnClicked:function(t){var e=this;this.gameApplication.soundManager.playSound("btn_click"),t.target.getComponent(cc.Button).interactable=!1,t.target.active=!0,this.gameApplication.soundManager.playSound("done"),SDK().getItem("all",function(i){SDK().share(i,function(i){t.target.getComponent(cc.Button).interactable=!0,t.target.active=!0,i||e.showInvAgain(2,t)})}.bind(this))},helpBtnShake:function(){this.helpBtn.getComponent("AnimFunc").shake()},onGiftBtnClicked:function(){this.receiveGiftNode.active=!1},onPlayInterstitialGiftBtnClicked:function(){var t=this;t.gameApplication.soundManager.playSound("done"),SDK().showInterstitialAd(function(){t.helpCount+=1,t.receiveGiftNode.active=!0,t.giftBtn.active=!1},!0)}}),cc._RF.pop()},{"../../Utils/Utils":"Utils","./Enemy":"Enemy","./HexCell":"HexCell","./Role":"Role","./Tower":"Tower"}],HexCell:[function(t,e){"use strict";cc._RF.push(e,"9f2d9wJS0FLXJ2cTn40JI4b","HexCell"),cc.Class({extends:cc.Component,properties:{help_end:{default:null,type:cc.Node},help_start:{default:null,type:cc.Node},line_end:{default:null,type:cc.Node},line_start:{default:null,type:cc.Node},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y),this.onUpdateAxialCoordinate()}},iceNode:{default:null,type:cc.Node},isIce:{get:function(){return this.iceNode.active}},leftTower:{default:null,type:cc.Node},rightTower:{default:null,type:cc.Node},bottomTower:{default:null,type:cc.Node},topTower:{default:null,type:cc.Node},hasTower:{get:function(){return this.leftTower.active||this.rightTower.active||this.bottomTower.active||this.topTower.active}},coordinateText:{default:null,type:cc.Label},left:{default:null,type:cc.Node},right:{default:null,type:cc.Node},top:{default:null,type:cc.Node},bottom:{default:null,type:cc.Node},leftActive:{get:function(){return this.left.active}},rightActive:{get:function(){return this.right.active}},topActive:{get:function(){return this.top.active}},bottomActive:{get:function(){return this.bottom.active}}},onLoad:function(){this.initHexcell()},scaleChild:function(t,e){this.line_end.setScale(t,e),this.line_start.setScale(t,e),this.help_end.setScale(t,e),this.help_start.setScale(t,e),this.leftTower.getComponent("Tower").setScaleXY(t,e),this.topTower.getComponent("Tower").setScaleXY(t,e),this.rightTower.getComponent("Tower").setScaleXY(t,e),this.bottomTower.getComponent("Tower").setScaleXY(t,e)},showStartLine:function(t){null!=t&&(this.line_start.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.line_start.setRotation(90):this.line_start.setRotation(-90):this.axialCoordinate.x>t.x?this.line_start.setRotation(180):this.line_start.setRotation(0))},showEndLine:function(t){null!=t&&(this.line_end.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.line_end.setRotation(90):this.line_end.setRotation(-90):this.axialCoordinate.x>t.x?this.line_end.setRotation(180):this.line_end.setRotation(0))},showLine:function(t,e){this.showStartLine(e),this.showEndLine(t)},hideLine:function(){this.line_start.active=!1,this.line_end.active=!1},showStartHelp:function(t){null!=t&&(this.help_start.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.help_start.setRotation(90):this.help_start.setRotation(-90):this.axialCoordinate.x>t.x?this.help_start.setRotation(180):this.help_start.setRotation(0))},showEndHelp:function(t){null!=t&&(this.help_end.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.help_end.setRotation(90):this.help_end.setRotation(-90):this.axialCoordinate.x>t.x?this.help_end.setRotation(180):this.help_end.setRotation(0))},showHelp:function(t,e){this.showStartHelp(e),this.showEndHelp(t)},hideHelpLine:function(){this.help_start.active=!1,this.help_end.active=!1},setIce:function(){this.iceNode.active=!0},setLeft:function(t){this.left.active=t},setRight:function(t){this.right.active=t},setTop:function(t){this.top.active=t},setBottom:function(t){this.bottom.active=t},setLeftTower:function(t){this.leftTower.active=t},setRightTower:function(t){this.rightTower.active=t},setTopTower:function(t){this.topTower.active=t},setBottomTower:function(t){this.bottomTower.active=t},initHexcell:function(){this.reset()},onUpdateAxialCoordinate:function(){this.coordinateText.string=parseInt(this.axialCoordinate.x)+","+parseInt(this.axialCoordinate.y),this.coordinateText.node.active=isDebug},reset:function(){this.setLeft(!1),this.setRight(!1),this.setTop(!1),this.setBottom(!1),this.setLeftTower(!1),this.setRightTower(!1),this.setTopTower(!1),this.setBottomTower(!1)}}),cc._RF.pop()},{}],LevelView:[function(t,e){"use strict";cc._RF.push(e,"f23f1EV0cJDq6BQzHk3MAdR","LevelView"),cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},starts:{default:null,type:cc.Node},pageView:{default:null,type:cc.PageView},content:{default:null,type:cc.Node},levelItem:{default:null,type:cc.Node},levelPage:{default:null,type:cc.Node},levels:{default:{}},bid:{default:0,type:cc.Integer},mid:{default:0,type:cc.Integer},_lastOpenLid:{default:0,type:cc.Integer},lastOpenLid:{get:function(){return this._lastOpenLid},set:function(t){this._lastOpenLid=t,this.updateCurrpage()}},gameApplication:{default:null,type:Object},lastLid:{default:0,type:cc.Integer}},onLoad:function(){this.gameApplication=cc.find("GameApplication").getComponent("GameApplication")},init:function(t,e){if(this.title.string="",null==this.levels||Object.keys(this.levels).length<=0||this.bid!=t||this.mid!=e){this.bid=t,this.mid=e;var i="conf/level_list/level_"+t+"_"+e;this.gameApplication.getConf(i,function(t){this.levels=t,this.initContents()}.bind(this))}else this.bid=t,this.mid=e,this.initContents();var n=this;SDK().getItem(t+"_"+e,function(i){n.starts.getComponent(cc.Label).string=i.toString();var o=i+1,c=[];c.push(o),o>1&&c.push(o-1),c.forEach(function(i){var o="conf/level_detail/b_"+t+"/"+e+"/"+i;n.gameApplication.getConf(o,null)})}.bind(this))},initContents:function(){var t=this;t.hideAllItem(),this.title.string=t.levels.title,this.lastLid=0,this.bid=t.levels.bid,this.mid=t.levels.mid;var e=1;t.levels.levels.forEach(function(i){t.initLevels(i,e),e++}),this.pageView._updatePageView()},initLevels:function(t,e){var i=this;if(!(e<1||e>4)){var n=cc.instantiate(this.levelPage);n.active=!0,this.pageView.addPage(n);for(var o=n.getChildByName("content"),c=(t.total_level,function(n){var c=n.toString(),s=o.getChildByName(c);if(n>t.total_level)s.active=!1;else{var l=25*(e-1)+n;s.name=l,i.setItem(s,0,!1,l),a=i,SDK().getItem(a.bid+"_"+a.mid+"_"+l,function(t){var e=!1;l<=a.lastLid+1||t>0?(e=!0,a.setItem(s,t,e,l)):openAllLevel&&a.setItem(s,t,!0,l),t>0&&(a.lastLid=l)},s,l)}}),s=1;s<=25;s++){var a;c(s)}}},setItem:function(t,e,i,n){cc.find("unlock",t).active=i,cc.find("lock",t).active=!i,cc.find("unlock/text",t).getComponent(cc.Label).string=n,cc.find("lock/text",t).getComponent(cc.Label).string=n,t.active=!0,i&&(this.lastOpenLid=n)},updateCurrpage:function(){var t=Math.ceil(this.lastOpenLid/30)-1;t=t>=0?t:0,this.pageView.scrollToPage(t,!1)},hideAllItem:function(){this.pageView.removeAllPages()},onBackBtnClicked:function(){this.hideAllItem(),this.gameApplication.openMainView(),this.gameApplication.soundManager.playSound("btn_click")}}),cc._RF.pop()},{}],LoadingView:[function(t,e){"use strict";cc._RF.push(e,"961c4S3IrNHB4M+zHyOMk6f","LoadingView"),cc.Class({extends:cc.Component,properties:{gameApplication:{default:null,type:Object}},onLoad:function(){this.gameApplication=cc.find("GameApplication").getComponent("GameApplication")},start:function(){"undefined"!=typeof bid&&"undefined"!=typeof mid&&"undefined"!=typeof lid&&this.gameApplication.openLevelView(bid,mid)},onPlayBtnClicked:function(){this.gameApplication.openMainView(),this.gameApplication.soundManager.playSound("btn_click")}}),cc._RF.pop()},{}],MainView:[function(t,e){"use strict";cc._RF.push(e,"5a326YqAwhD+IfA3lH1oKVk","MainView");var i=[cc.color(248,181,81,255),cc.color(174,93,161,255),cc.color(50,177,108,255),cc.color(54,46,43,255),cc.color(0,0,0,255),cc.color(0,160,233,255)],n=cc.color(229,229,229,255);cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},hearts:{default:null,type:cc.Node},starts:{default:null,type:cc.Node},coins:{default:null,type:cc.Node},content:{default:null,type:cc.Node},scrollView:{default:null,type:cc.ScrollView},stageItem:{default:null,type:cc.Node},missionSpriteAtlas:{default:null,type:cc.SpriteAtlas},missions:{default:null},gameApplication:{default:null,type:Object},missionNodes:{default:[]},curIdx:{default:0,type:cc.Integer,visible:!1},minIdx:{default:0,type:cc.Integer,visible:!1},maxIdx:{default:0,type:cc.Integer,visible:!1},uiAtlas:{default:null,type:cc.SpriteAtlas},reTime:{default:0,type:cc.Float,visible:!1},reviveBtn:{default:null,type:cc.Button},reviveTime:{default:null,type:cc.Label},reviveNum:{default:null,type:cc.Label}},onLoad:function(){this.reTime=300,SDK().getItem("reHeart",function(t){this.reviveNum.string=t}.bind(this)),this.reviveHeartCount(),this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,window.mainScirpt=this,this.gameApplication=cc.find("GameApplication").getComponent("GameApplication"),this.init(),this.scrollView.node.on("scroll-to-bottom",this.scorllToBottom,this),this.scrollView.node.on("scroll-to-top",this.scorllToTop,this),this.minIdx=null,this.maxIdx=null},scorllToBottom:function(){this.minIdx>0&&this.initStage(this.minIdx-10)},scorllToTop:function(){this.maxIdx<540&&this.initStage(this.maxIdx+10)},init:function(){null==this.missions||Object.keys(this.missions).length<=0?this.gameApplication.getMissions(function(t){this.missions=t.json,this.initContents()}.bind(this)):this.initContents(),SDK().getItem("all",function(t){this.starts.getComponent(cc.Label).string=t.toString()}.bind(this))},onEnable:function(){null!=this.missions&&Object.keys(this.missions).length>0&&this.initContents(),this.refreashVal()},refreashVal:function(){null!=this.starts&&(SDK().getItem("all",function(t){this.starts.getComponent(cc.Label).string=t.toString()}.bind(this)),SDK().getItem("hearts",function(t){this.hearts.getComponent(cc.Label).string=t.toString()}.bind(this)),SDK().getItem("coins",function(t){this.coins.getComponent(cc.Label).string=t.toString()}.bind(this)))},initContents:function(){this.content.active=!1,null!=window.lastPlay?(this.initStage(window.lastPlay),this.content.active=!0):SDK().getItem("curIdx",function(t){null==t&&(t=0),window.curIdx=t,this.initMissionItem(t),this.content.active=!0}.bind(this))},initMissionItem:function(t){t>=10&&this.initStage(t-10),this.initStage(t),t<540&&this.initStage(t+10),this.scheduleOnce(function(){this.menuClick(null,"goCur")}.bind(this),2)},initStage:function(t){var e=this.judgeType(t),i=this.missions[e.type],o=e.bigStage,c=this.missionNodes[o];null==c&&(c=cc.instantiate(this.stageItem)),c.parent=this.content,c.name=""+o,c.tag=e.type,SDK().getItem("lock_"+o,function(t){var s=!1;t>0&&(s=!1),0==o&&(s=!1);for(var a=0;a<10;a+=1){var l=cc.find("Bg/Stage"+a,c),h=a+o,r=this.judgeML(e,a);if(l.tag=h,r.lid>i.stars)l.active=!1;else{l.active=!0;var d,u=cc.find("Small",l).getComponent(cc.Sprite),p=cc.find("Num",u.node).getComponent(cc.Label),f=cc.find("CurPoint",u.node),g=cc.find("Lock",u.node);if(p.string=h%10==0?"":h+1,h==window.curIdx){f.active=!0,f.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(0,20)),cc.moveBy(.5,cc.v2(0,-20)))));var m=r.mid,v=r.lid;if(null!=m&&m>0&&null!=v&&v>0){var y=[];v>1&&y.push(v-1),y.push(v),v<100&&y.push(v+1),y.forEach(function(t){var e="conf/level_detail/b_1/"+m+"/"+t;window.gameApplication.getConf(e,null)})}}else f.stopAllActions(),f.active=!1;h==o?(u.spriteFrame=this.uiAtlas.getSpriteFrame(e.type+"Big"),u.node.color=cc.color(255,255,255,255)):u.node.color=n,s?(g.active=!0,l.off(cc.Node.EventType.TOUCH_END),h%10==0&&(g.active=!1,(d={}).mid=r.mid,d.lid=r.lid,d.bigStage=e.bigStage,d.idx=a,d.level=h+1,this.initStageClick(d,l,s))):(g.active=!1,(d={}).mid=r.mid,d.lid=r.lid,d.bigStage=e.bigStage,d.idx=a,d.level=h+1,window.curIdx,this.initStageClick(d,l,s),this.checkstagePass(r,h,u,e))}}c.active=!0,this.missionNodes[o]=c,(o>this.maxIdx||null==this.maxIdx)&&(this.maxIdx=o),(o<this.minIdx||null==this.minIdx)&&(this.minIdx=o,c.setSiblingIndex(0))}.bind(this))},checkstagePass:function(t,e,n,o){SDK().getItem("1_"+t.mid+"_"+t.lid,function(t){t>0&&e%10!=0&&(n.node.color=i[o.type])}.bind(this))},initStageClick:function(t,e,i){var n=cc.find("GoGame",this.node);e.off(cc.Node.EventType.TOUCH_END),e.on(cc.Node.EventType.TOUCH_END,function(){null!=n&&(n.active=!0),this.gameApplication.soundManager.playSound("btn_click");var o=t.idx;i||(o%10==0&&0!=o?this.gameApplication.showSharaView(function(e){if(e){var i={};i["lock_"+t.bigStage]=1,SDK().setItem(i,function(){this.initStage(t.bigStage)}.bind(this))}null!=n&&(n.active=!1)}.bind(this)):SDK().getItem("hearts",function(o){o>0?(o-=1,SDK().setItem({hearts:o}),null!=this.hearts&&(this.hearts.getComponent(cc.Label).string=o),window.gameApplication.flyReward(1,"heartSprite",e,this.hearts,function(){this.goGame(t,e,i)}.bind(this))):window.gameApplication.showHeartView(function(c){c?(o=4,null!=this.hearts&&(this.hearts.getComponent(cc.Label).string=o),SDK().setItem({hearts:o}),window.gameApplication.flyReward(1,"heartSprite",e,this.hearts,function(){this.goGame(t,e,i)}.bind(this))):null!=n&&(n.active=!1)}.bind(this),!1)}.bind(this)))},this)},goGame:function(t){window.bid=1,window.mid=t.mid,window.lid=t.lid,window._curLevel=t.level,this.gameApplication.openGameView()},judgeType:function(t){var e=0,i=60,n=!1;for(t>=300&&(t-=300,n=!0,i=50);t>=i;)t-=i,e+=1;t=Math.floor(t/10);var o={};return o.type=t,o.count=e,o.bigStage=10*t+e*i,n&&(o.bigStage=o.bigStage+300),o},judgeML:function(t,e){var i={};i.mid=t.type+1;var n=0;return t.bigStage>=300&&(n=5),i.lid=1+e+10*(n+t.count),i},hideAllItem:function(){this.content.childrenCount>0&&this.content.children.forEach(function(t){t.active=!1,t.destroy()})},menuClick:function(t,e){if(window.gameApplication.soundManager.playSound("btn_click"),"addHeart"==e)window.gameApplication.showHeartView(function(t){t&&SDK().getItem("hearts",function(t){t+=5,window.gameApplication.flyReward(5,"heartSprite",window.mainScirpt.hearts,null),null!=this.hearts&&(this.hearts.getComponent(cc.Label).string=t),SDK().setItem({hearts:t})}.bind(this),!1)}.bind(this),!1);else if("addCoin"==e)window.gameApplication.showCoinView(function(t){t&&SDK().getItem("coins",function(t){t+=100,window.gameApplication.flyReward(10,"coin",window.mainScirpt.coins,null),null!=this.coins&&(this.coins.getComponent(cc.Label).string=t),SDK().setItem({coins:t})}.bind(this),!1)}.bind(this),!1);else if("goCur"==e){var i=this.judgeType(window.curIdx),n=i.bigStage,o=this.missionNodes[n];if(null==o)return;var c=995;c=c*(5-(window.curIdx-i.bigStage))/10;var s=this.scrollView.getMaxScrollOffset();this.scrollView.scrollToOffset(cc.v2(0,s.y-o.y+c),.5)}else if("reHeart"==e){if(0==parseInt(this.reviveNum.string))return;this.reviveNum.string=0,SDK().getItem("reHeart",function(t){SDK().setItem({reHeart:0},function(){SDK().getItem("hearts",function(e){e=parseInt(e),e+=t,Math.abs(this.node.y-0)<10&&window.gameApplication.flyReward(t,"heartSprite",window.mainScirpt.hearts,this.reviveBtn.node,function(){null!=window.mainScirpt.hearts&&(window.mainScirpt.hearts.getComponent(cc.Label).string=e.toString())}.bind(this)),SDK().setItem({hearts:e},null)}.bind(this))}.bind(this))}.bind(this))}},reviveHeartCount:function(){if(this.reTime<=0)this.reTime=300,SDK().getItem("reHeart",function(t){t+=1,this.reviveNum.string=t,SDK().setItem({reHeart:t})}.bind(this));else{var t=this.reTime,e=t/60<10?"0"+Math.floor(t/60):""+Math.floor(t/60),i=t%60<10?"0"+Math.floor(t%60):""+Math.floor(t%60);t<=0&&(e="00",i="00"),this.reviveTime.string=e+":"+i}this.scheduleOnce(function(){this.reviveHeartCount()}.bind(this),1)},update:function(t){this.reTime=this.reTime-t}}),cc._RF.pop()},{}],NormalAnimation:[function(t,e){"use strict";cc._RF.push(e,"43480EzecBHBogcLHmzK8wB","NormalAnimation"),cc.Class({extends:cc.Component,properties:{loop:!0,isplay:!0,sprite:{default:null,type:cc.Sprite},sprites:{default:[],type:[cc.SpriteFrame]},fps:{default:5,type:cc.Integer},index:{default:0,type:cc.Integer,visible:!1},delta:{default:0,type:cc.Integer,visible:!1},rotationForever:!1},onLoad:function(){this.rotationForever&&this.rotation()},rotation:function(){var t=cc.repeatForever(cc.rotateBy(.3,90));this.rotationSeq=this.node.runAction(t)},play:function(){this.scheduleOnce(function(){null!=this.rotationSeq&&this.node.stopAction(this.rotationSeq)},.1),this.index=0,this.delta=0,this.isplay=!0,this.node.opacity=255,this.sprite.node.active=!0},update:function(t){if(this.isplay&&(this.delta+=t,this.fps>0&&this.sprites.length>0)){var e=1/this.fps;e<this.delta&&(this.delta=e>0?this.delta-e:0,this.sprite.spriteFrame=this.sprites[this.index],this.index=this.index+1>=this.sprites.length?0:this.index+1,this.index<=0&&0==this.loop&&(this.rotation(),this.isplay=!1,this.sprite.spriteFrame=this.sprites[0],this.node.opacity=0))}}}),cc._RF.pop()},{}],Player:[function(t,e){"use strict";cc._RF.push(e,"e32198K/PFAYI3D//JNhj6H","Player"),cc.Class({extends:cc.Component,properties:{age:{default:0,type:cc.Integer},avatar:{default:""},group_id:{default:0,type:cc.Integer},is_rebot:{default:0,type:cc.Integer},pname:{default:""},score:{default:0,type:cc.Integer},sex:{default:0,type:cc.Integer},user_id:{default:0,type:cc.Integer}},setUserInfo:function(t){this.age=t.age,this.avatar=t.avatar,this.group_id=t.group_id,this.is_rebot=t.is_rebot,this.pname=this.substrName(t.name,6),this.score=t.score,this.sex=t.sex,this.user_id=t.user_id},substrName:function(t,e){if(t.replace(/[\u4e00-\u9fa5]/g,"**").length<=e)return t;for(var i=0,n="",o=0;o<t.length&&(/[\u4e00-\u9fa5]/.test(t[o])?i+=2:i+=1,!(i>e));o++)n+=t[o];return n+" ..."}}),cc._RF.pop()},{}],Role:[function(t,e){"use strict";cc._RF.push(e,"01249Rk7stLqpgK0u1Ta5FD","Role"),t("./HexCell"),cc.Class({extends:cc.Component,properties:{bg:{default:null,type:cc.Node},die:{default:null,type:cc.Node},arrowNode:{default:null,type:cc.Node},leftNode:{default:null,type:cc.Node},rightNode:{default:null,type:cc.Node},bottomNode:{default:null,type:cc.Node},topNode:{default:null,type:cc.Node},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y)}},gameView:{default:null},darkNode:{default:null,type:cc.Node}},init:function(){this.bg.active=!0,this.die.active=!1},onCollisionEnter:function(t){null!=this.gameView&&null!=t.node&&t.node.opacity>0&&t.node.active&&this.gameView.collisionCallback()},setDark:function(t){this.darkNode.active=t},setArrow:function(t,e,i,n){this.topNode.active=t,this.bottomNode.active=i,this.leftNode.active=e,this.rightNode.active=n,this.arrowNode.active=!0},hideArrow:function(){this.arrowNode.active=!1},playDie:function(){var t=this;this.bg.active=!0,this.die.active=!1,this.die.setContentSize(cc.size(100,100)),this.blinking(this.bg,function(){t.bg.active=!1,t.die.active=!0,t.blinking(t.die,function(){t.die.setContentSize(cc.size(180,180)),t.blinking(t.die,function(){t.scheduleOnce(function(){t.die.runAction(cc.fadeOut(.2))},.1)})})})},blinking:function(t,e){var i=cc.delayTime(.12),n=cc.fadeOut(.01),o=cc.delayTime(.1),c=cc.fadeIn(.01),s=cc.callFunc(function(){e&&e()}),a=cc.repeat(cc.sequence(i,n,o,c),2);t.stopAllActions(),t.runAction(cc.sequence(a,s))}}),cc._RF.pop()},{"./HexCell":"HexCell"}],RotationForever:[function(t,e){"use strict";cc._RF.push(e,"fb6faggz8ZGIIj857YwdZTb","RotationForever"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.repeatForever(cc.rotateBy(.3,90));this.node.runAction(t)}}),cc._RF.pop()},{}],SDKUtils:[function(t,e){"use strict";cc._RF.push(e,"d14deOZzBVA6bqNWaGWZ5SG","SDKUtils");var i={};Math.sqrt(3),i.prefixInteger=function(t,e){return(Array(e).join("0")+t).slice(-e)},i.offsetToAxial=function(t){return t.x=t.x-Math.floor(t.y/2),t},i.axialToScreen=function(t,e){var i=e*t.y+.5*e-t.y*lineWidth,n=e*t.x+.5*e-t.x*lineWidth;return cc.v2(n,i)},i.screenToAxial=function(t,e){var i=cc.v2(0,0),n=Math.abs(Math.round((t.y-.5*e)/e)),o=Math.abs(Math.round((t.x-.5*e)/e));return i.x=Math.floor((t.x+o*lineWidth)/e),i.y=Math.floor((t.y+n*lineWidth)/e),i},i.calculateCubicZ=function(t){return-t.x-t.y},i.axialToOffset=function(t){return t},i.getNeighbors=function(t){var e=cc.v2(0,0),i=[];return e.x=t.x+1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x-1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y-1,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y+1,i.push(cc.v2(e.x,e.y)),i},i.getNeighborsOBJ=function(t){var e=cc.v2(0,0),i={};return e.x=t.x+1,e.y=t.y,i.r=cc.v2(e.x,e.y),e.x=t.x-1,e.y=t.y,i.l=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y-1,i.b=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y+1,i.t=cc.v2(e.x,e.y),i},i.isNeighbors=function(t,e){for(var i=this.getNeighbors(t),n=!1,o=0;o<i.length;o++)i[o].equals(e)&&(n=!0);return n},i.cloneObj=function(t){var e=t&&t.constructor===Array?[]:{};for(var n in t)if(t.hasOwnProperty(n)){if(!t[n]){e[n]=t[n];continue}e[n]="object"==typeof t[n]?i.cloneObj(t[n]):t[n]}return e},i.GetRandomNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},i.inArray=function(t,e){for(var i=e.length;i--;)if(parseInt(e[i])===parseInt(t))return!0;return!1},e.exports=i,cc._RF.pop()},{}],SoundManager:[function(t,e){"use strict";cc._RF.push(e,"2e203tup99JJ5nSDvFuy7AM","SoundManager"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null},btn_click:{url:cc.AudioClip,default:null},gamewin:{url:cc.AudioClip,default:null},done:{url:cc.AudioClip,default:null},error:{url:cc.AudioClip,default:null},clock:{url:cc.AudioClip,default:null},uplock:{url:cc.AudioClip,default:null},getCoin:{url:cc.AudioClip,default:null},isOpen:!0,isVoiceOpen:!0},playSound:function(t){if(this.isOpen)switch(t){case"btn_click":cc.audioEngine.play(this.btn_click,!1,1);break;case"done":cc.audioEngine.play(this.done,!1,1);break;case"error":cc.audioEngine.play(this.error,!1,1);break;case"clock":cc.audioEngine.play(this.clock,!1,1);break;case"gamewin":cc.audioEngine.play(this.gamewin,!1,1);break;case"uplock":cc.audioEngine.play(this.uplock,!1,1);break;case"getCoin":cc.audioEngine.play(this.getCoin,!1,1)}},playBg:function(){this.isOpen&&this.audioSource.play()},setVoiceIsOpen:function(t){if(this.isVoiceOpen=t,t)try{null!=str&&HiboGameJs.enableMic(0)}catch(e){}else try{null!=str&&HiboGameJs.enableMic(1)}catch(e){}},setIsOpen:function(t){if(this.isOpen=t,this.isOpen){this.playBg();try{null!=str&&HiboGameJs.mute(0)}catch(e){}}else{this.audioSource.pause();try{null!=str&&HiboGameJs.mute(1)}catch(e){}}}}),cc._RF.pop()},{}],TimeGift:[function(t,e){"use strict";cc._RF.push(e,"6f2aaGixZ5Fyol6rIab6HGA","TimeGift");var i=[3,50],n=[2,100];cc.Class({extends:cc.Component,properties:{giftView:{default:null,type:cc.Node},giftBtn:{default:null,type:cc.Node},giftMask:{default:null,type:cc.Node},giftTip:{default:null,type:cc.Node},giftTimeText:{default:null,type:cc.Label},giftTime:{default:0,visible:!1},heartsNum:{default:null,type:cc.Label},coinsNum:{default:null,type:cc.Label}},onLoad:function(){window.timeGiftScript=this,SDK().getItem("giftTime",function(t){t=parseInt(t),this.giftTime=t}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,function(){this.openBtn()},this)},openBtn:function(){window.gameApplication.soundManager.playSound("btn_click"),this.giftTip.active&&this.showTimeGiftView(1)},start:function(){this.checkTime(!0)},showTimeGiftView:function(t){var e=0,o=0;1==t?(e=n[0],o=n[1]):2==t&&(e=i[0],o=i[1]),this.heartsNum.string="+"+e,this.coinsNum.string="+"+o,window.gameApplication.openGiftView(!0);var c=this.giftView.getChildByName("Bg"),s=c.getChildByName("Later"),a=c.getChildByName("ReceiveView"),l=a.getChildByName("Light0"),h=a.getChildByName("Light1"),r=a.getChildByName("Receive"),d=a.getChildByName("Double");l.runAction(cc.repeatForever(cc.repeatForever(cc.rotateBy(1,120)))),h.runAction(cc.repeatForever(cc.rotateBy(1,120))),r.off(cc.Node.EventType.TOUCH_END),r.on(cc.Node.EventType.TOUCH_END,function(){window.gameApplication.soundManager.playSound("btn_click"),1==t&&this.resetTime(),SDK().getItem("hearts",function(t){t=parseInt(t),t+=e,window.gameApplication.flyReward(e,"heartSprite",window.mainScirpt.hearts,null),SDK().setItem({hearts:t},null),null!=window.mainScirpt.hearts&&(window.mainScirpt.hearts.getComponent(cc.Label).string=t.toString())}.bind(this)),SDK().getItem("coins",function(t){t=parseInt(t),t+=o,window.gameApplication.flyReward(.1*o,"coin",window.mainScirpt.coins,null),SDK().setItem({coins:t},function(){window.mainScirpt.refreashVal()}),null!=window.mainScirpt.coins&&(window.mainScirpt.coins.getComponent(cc.Label).string=t.toString())}.bind(this)),window.gameApplication.openGiftView(!1)},this),d.off(cc.Node.EventType.TOUCH_END),d.on(cc.Node.EventType.TOUCH_END,function(){window.gameApplication.soundManager.playSound("btn_click"),window.gameApplication.onVideoBtnClick(function(i){i&&(1==t&&this.resetTime(),SDK().getItem("hearts",function(t){t=parseInt(t),t+=3*e,window.gameApplication.flyReward(3*e,"heartSprite",window.mainScirpt.hearts,null),SDK().setItem({hearts:t},null),null!=window.mainScirpt.hearts&&(window.mainScirpt.hearts.getComponent(cc.Label).string=t.toString())}.bind(this)),SDK().getItem("coins",function(t){t=parseInt(t),t+=3*o,window.gameApplication.flyReward(.3*o,"coin",window.mainScirpt.coins,null),SDK().setItem({coins:t},function(){window.mainScirpt.refreashVal()}),null!=window.mainScirpt.coins&&(window.mainScirpt.coins.getComponent(cc.Label).string=t.toString())}.bind(this)),window.gameApplication.openGiftView(!1))}.bind(this))},this),s.off(cc.Node.EventType.TOUCH_END),s.on(cc.Node.EventType.TOUCH_END,function(){window.gameApplication.soundManager.playSound("btn_click"),window.gameApplication.openGiftView(!1)},this)},resetTime:function(){var t=Date.parse(new Date);t/=1e3,this.giftTime=t,SDK().setItem({giftTime:this.giftTime},null)},checkTime:function(t){var e=Date.parse(new Date);if((e/=1e3)-this.giftTime>10800)(!this.giftTip.active&&this.giftMask.active||t)&&(this.giftTip.active=!0,this.giftMask.active=!1,this.giftTimeText.node.active=!0,this.giftBtn.stopAllActions(),window.gameApplication.shake(this.giftBtn.getChildByName("Gift")));else{(this.giftTip.active&&!this.giftMask.active||t)&&(this.giftTip.active=!1,this.giftTip.stopAllActions(),this.giftMask.active=!0,this.giftTimeText.node.active=!0,this.giftBtn.getChildByName("Gift").stopAllActions(),this.giftBtn.getChildByName("Gift").rotation=0);var i=e-this.giftTime,n=(i=10800-i)/60,o=0;n>=60&&(o=Math.floor(n/60),n=n%60*60);var c=n/60<10?"0"+Math.floor(n/60):""+Math.floor(n/60),s=i%60<10?"0"+Math.floor(i%60):""+Math.floor(i%60);i<=0&&(c="00",s="00"),this.giftTimeText.string=o>0?o+":"+c+":"+s:c+":"+s}this.scheduleOnce(function(){this.checkTime(!1)}.bind(this),1)}}),cc._RF.pop()},{}],Tower:[function(t,e){"use strict";cc._RF.push(e,"fffd1g1zLBJ9Zn7NHAXbn3T","Tower"),t("./HexCell"),cc.Class({extends:cc.Component,properties:{bubble:{default:null,type:cc.Node},bubbleAxialCoordinate:{default:cc.v2(0,0),visible:!1},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y),this.bubbleAxialCoordinate=cc.v2(t.x,t.y)}},isShooting:!1,direction:{default:-1,type:cc.Integer,visible:!1},f:{default:0,type:cc.Integer,visible:!1},s:{default:0,type:cc.Integer,visible:!1},delay:{default:0,type:cc.Integer,visible:!1},size:{default:cc.size(0,0),type:cc.Size,visible:!1},scaleX:{default:1,type:cc.Integer,visible:!1},scaleY:{default:1,type:cc.Integer,visible:!1}},init:function(t){this.direction=t.direction,this.f=t.f,this.s=t.s,this.delay=t.delay,this.isShooting=!1,this.bubble.active=!1,this.node.setContentSize(this.size),this.bubble.setScale(this.scaleX,this.scaleY)},setScaleXY:function(t,e){this.size=cc.size(34*t,51*e),this.scaleX=t,this.scaleY=e}}),cc._RF.pop()},{"./HexCell":"HexCell"}],Utils:[function(t,e){"use strict";cc._RF.push(e,"3e427LrtQhKv7l/kjbf8v9+","Utils");var i={},n=Math.sqrt(3);i.offsetToAxial=function(t){return t.x=t.x-Math.floor(t.y/2),t},i.axialToScreen=function(t,e){var i=e*t.y+.5*e-t.y*lineWidth,n=e*t.x+.5*e-t.x*lineWidth;return cc.v2(n,i)},i.screenToAxial=function(t,e){var i=cc.v2(0,0);i.y=t.x/(1.5*e),i.x=(t.y-t.x/n)/(n*e);var o=this.calculateCubicZ(i),c=Math.round(i.x),s=Math.round(i.y),a=Math.round(o);if(c+s+a==0)t.x=c,t.y=s;else{var l=Math.abs(i.x-c),h=Math.abs(i.y-s),r=Math.abs(o-a);l>h&&l>r?(t.x=-s-a,t.y=s):h>l&&h>r?(t.x=c,t.y=-c-a):r>l&&r>h&&(t.x=c,t.y=s)}return t},i.calculateCubicZ=function(t){return-t.x-t.y},i.axialToOffset=function(t){return t.x=t.x+Math.floor(t.y/2),t},i.getNeighbors=function(t){var e=cc.v2(0,0),i=[];return e.x=t.x+1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x-1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y-1,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y+1,i.push(cc.v2(e.x,e.y)),i},i.getNeighborsOBJ=function(t){var e=cc.v2(0,0),i={};return e.x=t.x+1,e.y=t.y,i.r=cc.v2(e.x,e.y),e.x=t.x-1,e.y=t.y,i.l=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y-1,i.b=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y+1,i.t=cc.v2(e.x,e.y),i},i.isNeighbors=function(t,e){for(var i=this.getNeighbors(t),n=!1,o=0;o<i.length;o++)i[o].equals(e)&&(n=!0);return n},i.cloneObj=function(t){var e=t&&t.constructor===Array?[]:{};for(var n in t)if(t.hasOwnProperty(n)){if(!t[n]){e[n]=t[n];continue}e[n]="object"==typeof t[n]?i.cloneObj(t[n]):t[n]}return e},i.GetRandomNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},i.inArray=function(t,e){for(var i=e.length;i--;)if(parseInt(e[i])===parseInt(t))return!0;return!1},e.exports=i,cc._RF.pop()},{}],ZoominForever1:[function(t,e){"use strict";cc._RF.push(e,"2f1b5ntEa5NbYY+SYDZzHax","ZoominForever1"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.repeatForever(cc.sequence(cc.scaleTo(.48,1.25,1.25),cc.delayTime(.38),cc.scaleTo(.78,1,1),cc.delayTime(.68)));this.node.runAction(t)}}),cc._RF.pop()},{}],ZoominForever:[function(t,e){"use strict";cc._RF.push(e,"0bfed705u9G85RWvZFfoZtO","ZoominForever"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.repeatForever(cc.sequence(cc.scaleTo(.88,1.1,1.1),cc.scaleTo(.88,.9,.9)));this.node.runAction(t)}}),cc._RF.pop()},{}],facebook:[function(t,e){"use strict";cc._RF.push(e,"6542a5UC9RCqLxrtQE6lpYc","facebook");var i,n=function(){this.cb=null,this.videoAd=null,this.videoAdState=null,this.InterstitialAd=null,this.InterstitialAdState=null,this.playTimes=0,this.sdk_ad=null};n.prototype.init=function(){},n.prototype.initOP=function(){},n.prototype.setUp=function(){},n.prototype.reLoadOpAd=function(){},n.prototype.getRecommendGames=function(){},n.prototype.getItem=function(t,e){var i=cc.sys.localStorage.getItem(t);e(void 0!==i&&null!=i?Number(i):0,t)},n.prototype.setItem=function(t,e){for(var i in t)cc.sys.localStorage.setItem(i,t[i]);null!=e&&e()},n.prototype.getLocale=function(){if("undefined"!=typeof FBInstant)return FBInstant.getLocale()},n.prototype.getGameId=function(){return""},n.prototype.getName=function(){return"undefined"},n.prototype.canCreateShortcutAsync=function(){},n.prototype.switchGameAsync=function(){},n.prototype.getCatalogAsync=function(){},n.prototype.purchaseAsync=function(){},n.prototype.getPurchasesAsync=function(){},n.prototype.consumePurchaseAsync=function(){},n.prototype.share=function(){},n.prototype.doShare=function(){},n.prototype.shareBestScore3Times=function(){},n.prototype.shareBestScore=function(){},n.prototype.plusPlayTimes=function(){},n.prototype.openVideoAd=function(){return!1},n.prototype.openinterstitialAd=function(){return!1},n.prototype.getInterstitialCount=function(){return interstitialCount},n.prototype.isPlayOpAD=function(){return!1},n.prototype.loadInterstitialAd=function(){},n.prototype.showInterstitialAd=function(){},n.prototype.loadVideoAd=function(){},n.prototype.hasVideoAd=function(){return!1},n.prototype.showVideoAd=function(){},n.prototype.stat=function(){},n.prototype.playWith=function(){},n.prototype.getSelfInfo=function(){},n.prototype.setRankScore=function(){},n.prototype.getRankScore=function(){},n.prototype.getPercent=function(t){null!=t&&t()},n.prototype.getRank=function(){},n.prototype.getFriendsRank=function(){},n.prototype.postRankToMessage=function(){},e.exports=function(){return i||(i=new n),i},cc._RF.pop()},{}],globals:[function(t,e){"use strict";cc._RF.push(e,"f774aa2KJxEp68y3WRvT7GZ","globals"),window.SDK=t("../SDK/facebook"),window.playTimesAD=2,window.isDebug=!1,window.lineWidth=6,window.plusHelp=5,window.openAllLevel=!1,cc._RF.pop()},{"../SDK/facebook":"facebook"}],sdk_ad:[function(t,e){"use strict";cc._RF.push(e,"7bbceGVbB9GqazOzZL48/et","sdk_ad"),cc.Class({extends:cc.Component,properties:{adSprite:{default:null,type:cc.Sprite},pic:{default:""},game_id:{default:""},hasAd:!1},onLoad:function(){},show:function(){null!=this.node&&this.node.setPosition(cc.v2(0,0))},setAd:function(t,e){if(null!=this.node&&null!=this.adSprite){this.pic=t,this.game_id=e;var i=this,n=this.pic;cc.loader.load(n,function(t,e){i.adSprite.spriteFrame=new cc.SpriteFrame(e)}),this.hasAd=!0}},onCloseBtnClicked:function(){this.node.setPosition(cc.v2(1500,1500)),SDK().reLoadOpAd(),SDK().stat(2,this.game_id)},onPlayBtnClicked:function(){this.onCloseBtnClicked(),SDK().switchGameAsync(this.game_id)}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"09bdfcgQP1AD4rgjnSXpBXc","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["globals","GameApplication","Player","SoundManager","facebook","sdk_ad","SDKUtils","AnimFunc","NormalAnimation","RotationForever","ZoominForever","ZoominForever1","Enemy","GameView","HexCell","Role","Tower","LevelView","LoadingView","MainView","TimeGift","Utils","use_v2.0.x_cc.Toggle_event"]);