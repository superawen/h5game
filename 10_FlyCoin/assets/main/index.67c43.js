window.__require=function t(n,o,e){function c(a,l){if(!o[a]){if(!n[a]){var r=a.split("/");if(r=r[r.length-1],!n[r]){var s="function"==typeof __require&&__require;if(!l&&s)return s(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var u=o[a]={exports:{}};n[a][0].call(u.exports,function(t){return c(n[a][1][t]||t)},u,u.exports,t,n,o,e)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<e.length;a++)c(e[a]);return c}({MainScene:[function(t,n){"use strict";cc._RF.push(n,"3dab5pBPU5Hg7MiBju+ZvV9","MainScene");var o=t("Utils");cc.Class({extends:cc.Component,properties:{nodeTarget:{default:null,type:cc.Node,displayName:"\u98de\u884c\u76ee\u6807\u70b9"},nodeCoin:{default:null,type:cc.Node,displayName:"\u91d1\u5e01\u7236\u8282\u70b9"},sprCoin:{default:null,type:cc.Sprite,displayName:"\u91d1\u5e01\u56fe\u6807"},labelCoin:{default:null,type:cc.Label,displayName:"\u91d1\u5e01\u6570\u91cf"},labelAddCoin:{default:null,type:cc.Label,displayName:"\u6dfb\u52a0\u91d1\u5e01"}},onLoad:function(){this.coinCount=0,this._addCoin(this.coinCount)},onClickBtnAdd:function(t){var n=Math.floor(1e3*Math.random()),e=this;o.FlyCoin(n,t.target,e.nodeTarget,e.nodeCoin,function(t){e._addCoin(t)})},_addCoin:function(t){this.coinCount+=t,this.labelCoin.string=o.Thousands(this.coinCount),t>0&&(this.labelAddCoin.string="+"+t,this.labelAddCoin.getComponent(cc.Animation).play(),this.sprCoin.getComponent(cc.Animation).play())}}),cc._RF.pop()},{Utils:"Utils"}],ObjPool:[function(t,n){"use strict";cc._RF.push(n,"76cc37f8fJKEo6QBiYRHelH","ObjPool"),cc.Class({extends:cc.Component,properties:{prefabCoin:{default:null,type:cc.Prefab},objCount:{default:5,type:cc.Float}},onLoad:function(){cc.game.objpool=this,this.pool=new cc.NodePool;for(var t=0;t<this.objCount;t++){var n=cc.instantiate(this.prefabCoin);this.pool.put(n)}},get:function(){return this.pool.size()>0?this.pool.get():cc.instantiate(this.prefabCoin)},clear:function(t){this.pool.put(t)}}),cc._RF.pop()},{}],Utils:[function(t,n){"use strict";cc._RF.push(n,"dcbc9iOOlFIU6V1pxaBWo7N","Utils"),n.exports={FlyCoin:function(t,n,o,e,c){cc.log("count="+t);var i,a,l=Math.floor(t/100);l=Math.min(8,Math.max(1,l));for(var r=[0,1,2,3],s=[5,10,8,15,12,13,30,25,20,45,78,90,46],u=function(l){var u=cc.game.objpool.get();e.addChild(u);var p=s[Math.floor(Math.random()*s.length)];switch(l%r.length){case 0:i=-30+n.x,a=-30*Math.tan(p*Math.PI/180)+n.y;break;case 1:i=30*Math.tan(p*Math.PI/180)+n.x,a=30+n.y;break;case 2:i=30+n.x,a=30*Math.tan(p*Math.PI/180)+n.y;break;case 3:i=-30*Math.tan(p*Math.PI/180)+n.x,a=-30+n.y}u.runAction(cc.sequence(cc.place(cc.v2(n.x,n.y)),cc.moveTo(.5,i,a).easing(cc.easeCubicActionOut()),cc.moveTo(.9,o.x,o.y).easing(cc.easeCubicActionOut()),cc.callFunc(function(){cc.game.objpool.clear(u)},u),cc.callFunc(function(){0==l&&null!=c&&c(t)},t)))},p=0;p<l;p++)u(p)},Thousands:function(t){t=(t||0).toString();for(var n="";t.length>3;)n=","+t.slice(-3)+n,t=t.slice(0,t.length-3);return t&&(n=t+n),n}},cc._RF.pop()},{}]},{},["MainScene","ObjPool","Utils"]);